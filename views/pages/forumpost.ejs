<!-- Created by Michael Piercey -->

<!DOCTYPE html>
<html lang="en">

<!-- Include the head -->
<%- include('../partials/head.ejs', { title: 'Forum | PlacementHub', cssFiles: ['/styles/forumpages.css', '/styles/nav.css'], bootstrap: true, infolder: false  }) %>

<body>

<!-- Include the navbar -->
<%- include('../partials/nav.ejs', { currentPage: 'forum', infolder: false }) %>

<main class="main">
    <div class="main-header">
        <h1 class="main-title"><%= category %> - <%= subcategory %></h1>
    </div>
    <div class="main-cards">

        <% posts.forEach(post => { %>
            <div class="card">
                <!-- User Info -->
                <div class="user-info">
                    <!-- User Photo -->
                    <img src="<%= post.userPhoto %>" alt="User Photo" class="user-photo" />
                
                    <!-- User Details -->
                    <div class="user-details">
                        <p class="user-name"><%= post.userName %></p>
                        <p class="user-course"><%= post.userCourse %></p>
                    </div>
                
                    <!-- Post Date -->
                    <p class="post-date"><%= post.postDate %></p>
                </div>
                
                <!-- Divider -->
                <div class="divider"></div>
                
                <!-- Forum Post Title -->
                <p class="post-title"><%= post.title %></p>
                
                <!-- Action Buttons -->
                <div class="post-actions">
                    <!-- Upvote Button -->
                    <button class="upvote">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 0L16 10H0L8 0z"></path>
                        </svg>
                        Upvote <b><%= post.upVotes %></b>
                    </button>
                
                    <!-- Downvote Button -->
                    <button class="downvote">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 10L0 0h16L8 10z"></path>
                        </svg>
                        Downvote <b><%= post.downVotes %></b>
                    </button>
                
                    <!-- Comment Button -->
                    <button class="comment">
                        <svg width="16" height="16" viewBox="0 0 32 32" fill="currentColor">
                            <path style="fill:#010002;" d="M27.184,1.605H2.156C0.967,1.605,0,2.572,0,3.76v17.572c0,1.188,0.967,2.155,2.156,2.155h13.543
                                l5.057,3.777c0.414,0.31,0.842,0.468,1.268,0.468c0.789,0,1.639-0.602,1.637-1.923v-2.322h3.523c1.188,0,2.154-0.967,2.154-2.155
                                V3.76C29.338,2.572,28.371,1.605,27.184,1.605z M27.34,21.332c0,0.085-0.068,0.155-0.154,0.155h-5.523v3.955l-5.297-3.956H2.156
                                c-0.086,0-0.154-0.07-0.154-0.155V3.759c0-0.085,0.068-0.155,0.154-0.155v0.001h25.029c0.086,0,0.154,0.07,0.154,0.155
                                L27.34,21.332L27.34,21.332z"/>
                        </svg>
                        Comment <b><%= post.comments %></b>
                    </button>
                </div>
            </div>
        <% }); %>
    </div>
</main>

<%- include('../partials/footer.ejs') %>

</body>

<!-- links to bootstrap js and jquery -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="/scripts/forumpages.js"></script>

</html>
