<!--
    Created by Michael Piercey
-->

<!DOCTYPE html>
<html lang="en">

<!-- Include the head -->
<%- include('../partials/head.ejs', { title: 'Account | PlacementHub', cssFiles: ['/styles/account.css', '/styles/nav.css'], bootstrap: true, infolder: false }) %>


<body>

<!-- Include the navbar -->
<%- include('../partials/nav.ejs', { currentPage: 'myaccount'}) %>


<div class="account-container">
            <div class="your-account-container">
                <h1 class="welcome-title">Welcome to Your Account page <%= user.name.first %></h1>
                <h3 class="welcome-text">Here you can view and make changes to your account details</h3>
            </div>
        
            <div class="account-details-container">
                <div class="account-detail" style="margin-left: 0;">
                    <h3>Current Email</h3>
                    <p><%= user.email %></p>
                </div>
                <div class="account-detail">
                    <h3>Current Name</h3>
                    <p><%= user.name.first %></p>
                </div>
                <div class="account-detail">
                    <h3>Current Username</h3>
                    <p><%= user.login.username %></p>
                </div>
            </div>
        
            <div class="account-activites-container">
                <div class="activities-container" style="margin-left: 0;">
                    <h3>Change Account Details</h3>
                    <h3>Change your name:</h3>
                    <form action="/change-first-name" method="POST">
                      <label for="newName">New Name:</label><br>
                      <input type="text" class="account-textbox" id="newName" name="newFirstName">
                      <button class="account-change-button" type="submit">Change</button>
                  </form>
        
                    <h3>Change your email:</h3>
                    <form action="/change-email" method="POST">
                      <label for="newEmail">New Email:</label><br>
                      <input type="email" class="account-textbox" id="newEmail" name="newEmail">
                      <button class="account-change-button" type="submit">Change</button>
                  </form>
        
                    <h3>Change your username:</h3>
                    <form action="/change-username" method="POST">
                      <label for="newUsername">New Username:</label><br>
                      <input type="text" class="account-textbox" id="newUsername" name="newUsername">
                      <button class="account-change-button" type="submit">Change</button>
                  </form>

                    <h3>Change your password:</h3>
                    <form action="/change-password" method="POST">
                      <label for="newPassword">New Password:</label><br>
                      <input type="password" class="account-textbox" id="newPassword" name="newPassword">
                      <input type="password" class="account-textbox" id="newPassword2" name="newPassword2">
                      <button class="account-change-button" type="submit">Change</button>
                  </form>
        
                </div>
                <div class="activities-container" style="padding: 5px;">
                    <h3>Your forum posts </h3>
                </div>
            </div>

            <div class="preferences-container">
              <div class="preference" style="margin-left: 0;">
                <h3>Profile Picture</h3>
                <img src="<%= user.picture.thumbnail %>"  class="profile-picture" alt="Profile Picture">
                <form action="/upload" method="POST" enctype="multipart/form-data">
                  <input type="file" name="photo" accept="image/*">
                  <button type="submit">Upload</button>
              </form>
            </div>
            <div class="preference">
              <h3>Account Support</h3>
              <p>Have a problem? get in touch!</p>
              <textarea id="problem-description" placeholder="Describe the problem..."></textarea>
              <button type="button" onclick="reportProblem()">Report Problem</button>
              <script>
                  function reportProblem() {
                      var problemDescription = document.getElementById('problem-description').value;
                      // Add logic to handle the reported problem
                      alert("Problem reported: " + problemDescription); // Example alert, replace with your logic
                  }
              </script>
          </div>
              <div class="preference">
                  <h3>Logout</h3>
                  <form action="/logout" method="POST">
                    <button type="submit">Logout now</button>
                </form>
              </div>
        
         
  </div>
  </div>
  
  

    <%- include('../partials/footer.ejs')%>

</body>

  <!-- links to bootstrap js and jquery -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

  <script src="/scripts/account.js"></script>

</html>
